---
import SigninForm from "@/components/auth/SigninForm.svelte";
import Layout from "@/layouts/Layout.astro";
import getUserData from "../lib/firebase/utils/auth/getUserData";
import Navbar from "../components/Navbar.svelte";
const title = "Sign In - Astro Starter Pack";
const description =
  "Sign in to your account to access personalized settings and features.";

const sessionCookie = Astro.cookies.get("session")?.value ?? null;
const user = await getUserData(sessionCookie);
if (user) {
  return Astro.redirect("/profile");
}
---

<Layout title={title} description={description}>
  <Navbar {user} client:load />
  <SigninForm client:load />
</Layout>

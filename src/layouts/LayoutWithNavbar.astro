---
import Layout from "./Layout.astro";
import getUserData from "../lib/firebase/utils/auth/getUserData";
import Navbar from "../components/Navbar.svelte";

interface Props {
	title: string;
	description: string;
	image?: string;
	background?: string;
	logoBlack?: boolean;
	whiteGradient?: boolean;
}
const { title, description, image, background, logoBlack = false, whiteGradient = false } = Astro.props;

const sessionCookie = Astro.cookies.get("session")?.value ?? null;
const user = await getUserData(sessionCookie);
---

<Layout {title} {description} {image} {background} {whiteGradient} >
    <Navbar {user} {logoBlack} client:load />
    <slot />
</Layout>
